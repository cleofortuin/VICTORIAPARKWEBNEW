<!doctype html>
<html lang="af">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Derby 2025 - Galery</title>
<link rel="stylesheet" href="../../assets/css/style.css">

<!-- Gallery Grid Styling -->
<style>
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
  margin-top: 24px;
}

.gallery-grid img {
  width: 100%;
  height: 240px;
  object-fit: cover;
  border-radius: 10px;
  cursor: pointer;
  transition: transform .2s ease;
}

.gallery-grid img:hover {
  transform: scale(1.03);
}

/* Lightbox backdrop */
.lightbox {
  display: none;
  position: fixed;
  inset: 0; /* top:0; right:0; bottom:0; left:0; */
  background: rgba(0,0,0,0.9);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* central image container so clicks outside image close lightbox easily */
.lightbox-inner {
  position: relative;
  max-width: 70vw;   /* control image box size */
  max-height: 70vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* image styling */
.lightbox img {
  max-width: 100%;
  max-height: 100%;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6);
  user-select: none;
  -webkit-user-drag: none;
  object-fit: contain;
}

/* CLOSE BUTTON - moved outside the image container and fixed to viewport */
.close-btn {
  position: fixed;
  top: 18px;
  right: 28px;
  font-size: 36px;
  color: #fff;
  background: rgba(0,0,0,0.45);
  border: none;
  cursor: pointer;
  z-index: 10050; /* above arrows and image */
  line-height: 1;
  padding: 8px 12px;
  border-radius: 999px;
}

/* Arrow buttons (kept near the image box) */
.arrow-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.45);
  border: none;
  color: #fff;
  font-size: 28px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10005;
  user-select: none;
}

.arrow-btn:focus { outline: 2px solid rgba(255,255,255,0.3); }

/* place arrows just outside the image box */
.arrow-left { left: -70px; }
.arrow-right { right: -70px; }

/* Counter */
.counter {
  position: absolute;
  bottom: -44px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 16px;
  color: #fff;
  z-index: 10010;
  background: rgba(0,0,0,0.35);
  padding: 6px 10px;
  border-radius: 6px;
}

/* Responsive adjustments */
@media (max-width: 900px) {
  .lightbox-inner { max-width: 85vw; max-height: 75vh; }
  .arrow-left { left: -50px; }
  .arrow-right { right: -50px; }
}

@media (max-width: 640px) {
  .arrow-left { left: 8px; }
  .arrow-right { right: 8px; }
  .arrow-btn { width:48px; height:48px; font-size:22px; }
  .close-btn { right: 12px; top: 12px; font-size:32px; padding:6px 10px; }
  .counter { bottom: -36px; font-size:14px; }
}

/* Optional: ensure main-nav looks like your homepage if not already in style.css */
.main-nav {
  display:flex;
  gap:16px;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
  margin-top:12px;
}
.main-nav a { text-decoration:none; color:inherit; padding:6px 8px; }
.main-nav .btn-yellow { margin-left: auto; } /* if your CSS pins it differently, this won't break */
</style>
</head>
<body>

<header class="header">
  <div class="container">
    <!-- top row: left logo | centered bilingual title | spacer the same width as logo -->
    <div class="header-top">

      <a href="../../index.html" class="logo-link">
        <img src="../../assets/images/logo.png" alt="Victoria Park Logo" class="logo">
      </a>

      <div class="site-title">
        <h1 class="school-af">Victoriapark Primêr</h1>
        <h2 class="school-en">Victoria Park Primary</h2>
        <p class="tagline">Vonk die potensiaal deur uitnemendheid, waardes en geleenthede.</p>
      </div>

      <div class="logo-spacer" aria-hidden="true"></div>

    </div>

    <!-- nav row: centered items, with Kontakt pinned at the far right -->
    <nav class="main-nav" role="navigation" aria-label="Main navigation">
      <a href="../../index.html">Tuis</a>
      <a href="../../about.html">Oor Ons</a>
      <a href="../../academics.html">Akademie</a>
      <a href="../../staff.html">Ons Personeel</a>
      <a href="../../sports.html">Sport &amp; Kultuur</a>
      <a href="../../gallery.html">Galery</a>
      <a href="../../news.html">Nuus</a>

      <!-- this button will be visually pinned to the right -->
      <a class="btn-yellow" href="../../contact.html">Kontak Ons</a>
    </nav>
  </div>

  <!-- thin yellow divider under the header -->
  <div class="header-bottom-line" aria-hidden="true"></div>
</header>



<main class="container">
  <h2><strong>Derby 2025</strong></h2>
  <p>20 September 2025</p>

  <!-- IMAGE GRID -->
  <div class="gallery-grid">
    <img src="IMG_6075-min.jpg" alt="Derby image 1">
    <img src="IMG_6076-min.jpg" alt="Derby image 2">
    <img src="IMG_6078-min.jpg" alt="Derby image 3">
    <img src="IMG_6079-min.jpg" alt="Derby image 4">
    <img src="IMG_6080-min.jpg" alt="Derby image 5">
    <img src="IMG_6082-min.jpg" alt="Derby image 6">
    <img src="IMG_6085-min.jpg" alt="Derby image 7">
    <img src="IMG_6086-min.jpg" alt="Derby image 8">
    <img src="IMG_6091-min.jpg" alt="Derby image 9">
    <img src="IMG_6097-min.jpg" alt="Derby image 10">
    <img src="IMG_6099-min.jpg" alt="Derby image 11">
    <img src="IMG_6103.jpg" alt="Derby image 12">
    <img src="IMG_6112-min.jpg" alt="Derby image 13">
    <img src="IMG_6114-min.jpg" alt="Derby image 14">
    <img src="IMG_6122-min.jpg" alt="Derby image 15">
    <img src="IMG_6123-min.jpg" alt="Derby image 16">
    <img src="IMG_6128-min.jpg" alt="Derby image 17">
  </div>
</main>

<!-- LIGHTBOX POPUP -->
<div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Image lightbox">

  <!-- CLOSE BUTTON moved OUTSIDE image container -->
  <button class="close-btn" id="closeBtn" aria-label="Close (Esc)">&times;</button>

  <div class="lightbox-inner" id="lightboxInner">
    <!-- left arrow -->
    <button class="arrow-btn arrow-left" id="prevBtn" aria-label="Previous image">‹</button>

    <!-- image -->
    <img id="lightbox-img" alt="">

    <!-- right arrow -->
    <button class="arrow-btn arrow-right" id="nextBtn" aria-label="Next image">›</button>

    <div class="counter" id="counter" aria-hidden="false"></div>
  </div>
</div>

<script>
/* --- Elements --- */
const images = Array.from(document.querySelectorAll('.gallery-grid img'));
const lightbox = document.getElementById('lightbox');
const lightboxInner = document.getElementById('lightboxInner');
const lightboxImg = document.getElementById('lightbox-img');
const counter = document.getElementById('counter');
const closeBtn = document.getElementById('closeBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

let currentIndex = 0;

/* --- Open image when a thumbnail is clicked --- */
images.forEach((img, index) => {
  // Make thumbnails keyboard accessible
  img.setAttribute('tabindex', '0');

  img.addEventListener('click', (e) => {
    currentIndex = index;
    showImage();
  });

  img.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      img.click();
    }
  });
});

/* --- Show image in lightbox --- */
function showImage() {
  const src = images[currentIndex].src;
  const alt = images[currentIndex].alt || `Image ${currentIndex + 1}`;
  lightboxImg.src = src;
  lightboxImg.alt = alt;
  counter.innerText = `${currentIndex + 1} van ${images.length}`;

  // show
  lightbox.style.display = 'flex';
  lightbox.setAttribute('aria-hidden', 'false');

  // move focus to close button for keyboard users
  closeBtn.focus();
}

/* --- Navigation functions (only triggered by arrow buttons) --- */
function nextImage() {
  currentIndex = (currentIndex + 1) % images.length;
  showImage();
}
function prevImage() {
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  showImage();
}

/* --- Close --- */
function closeLightbox() {
  lightbox.style.display = 'none';
  lightbox.setAttribute('aria-hidden', 'true');
  // return focus to the thumbnail that opened it
  const thumb = images[currentIndex];
  if (thumb) thumb.focus();
}

/* --- Event wiring --- */
/* Clicking the dark backdrop (lightbox) closes */
lightbox.addEventListener('click', (e) => {
  // if click is on backdrop (not inside inner container), close
  if (e.target === lightbox) closeLightbox();
});

/* Prevent clicks inside the image area from bubbling to backdrop */
lightboxInner.addEventListener('click', (e) => {
  e.stopPropagation();
});

/* Arrow buttons — stop propagation so the backdrop doesn't receive the click */
prevBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  prevImage();
});
nextBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  nextImage();
});

/* Close button */
closeBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  closeLightbox();
});

/* Prevent image clicks from closing (user might click image) */
lightboxImg.addEventListener('click', (e) => {
  e.stopPropagation();
});

// Keyboard: allow Escape to close and Arrow keys to navigate
document.addEventListener('keydown', (e) => {
  if (lightbox.style.display === 'flex') {
    if (e.key === 'Escape') {
      closeLightbox();
    }
    if (e.key === 'ArrowRight') {
      e.preventDefault();
      nextImage();
    }
    if (e.key === 'ArrowLeft') {
      e.preventDefault();
      prevImage();
    }
  }
});
</script>

</body>
</html>
