<!doctype html>
<html lang="af">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Derby 2025 - Galery</title>
<link rel="stylesheet" href="../../assets/css/style.css">

<!-- Gallery Grid Styling -->
<style>
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
  margin-top: 24px;
}

.gallery-grid img {
  width: 100%;
  height: 240px;
  object-fit: cover;
  border-radius: 10px;
  cursor: pointer;
  transition: transform .2s ease;
}

.gallery-grid img:hover {
  transform: scale(1.03);
}

/* Lightbox */
.lightbox {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.9);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* central image container so clicks outside image close lightbox easily */
.lightbox-inner {
  position: relative;
  max-width: 90%;
  max-height: 80%;
  display:flex;
  justify-content:center;
  align-items:center;
}

.lightbox img {
  max-width: 100%;
  max-height: 100%;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6);
  user-select: none;
  -webkit-user-drag: none;
}

/* Close button */
.close-btn {
  position: absolute;
  top: 18px;
  right: 28px;
  font-size: 36px;
  color: #fff;
  background: transparent;
  border: none;
  cursor: pointer;
  z-index: 10010;
  line-height: 1;
  padding: 6px 10px;
}

/* Arrow buttons */
.arrow-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.45);
  border: none;
  color: #fff;
  font-size: 28px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10005;
  user-select: none;
}

.arrow-btn:focus { outline: 2px solid rgba(255,255,255,0.3); }

.arrow-left { left: -70px; }   /* sits just outside the image area */
.arrow-right { right: -70px; }

/* Counter */
.counter {
  position: absolute;
  bottom: 28px;
  font-size: 16px;
  color: #fff;
  z-index: 10010;
  background: rgba(0,0,0,0.35);
  padding: 6px 10px;
  border-radius: 6px;
}

/* Responsive adjustments so arrows don't overlap off-screen on small widths */
@media (max-width: 640px) {
  .arrow-left { left: 8px; }
  .arrow-right { right: 8px; }
  .arrow-btn { width:48px; height:48px; font-size:22px; }
  .close-btn { right: 12px; top: 12px; font-size:32px; }
}
</style>
</head>
<body>

<header class="header">
  <div class="container">
    <div class="header-top">
      <a href="../../index.html" class="logo-link">
        <img src="../../assets/images/logo.png" class="logo" alt="Logo">
      </a>

      <div class="site-title">
        <h1 class="school-af">Victoriapark Primêr</h1>
        <h2 class="school-en">Victoria Park Primary</h2>
        <p class="tagline">Vonk die potensiaal deur uitnemendheid, waardes en geleenthede.</p>
      </div>

      <div class="logo-spacer"></div>
    </div>
  </div>

  <div class="header-bottom-line"></div>
</header>

<main class="container">
  <h2>Derby 2025</h2>
  <p>Foto's geneem tydens Derby.</p>

  <!-- IMAGE GRID -->
  <div class="gallery-grid">

    <!-- AUTO-LIST IMAGES HERE -->
    <img src="IMG_6075-min.jpg" alt="Derby image 1">
    <img src="IMG_6076-min.jpg" alt="Derby image 2">
    <img src="IMG_6078-min.jpg" alt="Derby image 3">
    <img src="IMG_6079-min.jpg" alt="Derby image 4">
    <img src="IMG_6080-min.jpg" alt="Derby image 5">
    <img src="IMG_6082-min.jpg" alt="Derby image 6">
    <img src="IMG_6085-min.jpg" alt="Derby image 7">
    <img src="IMG_6086-min.jpg" alt="Derby image 8">
    <img src="IMG_6091-min.jpg" alt="Derby image 9">
    <img src="IMG_6097-min.jpg" alt="Derby image 10">
    <img src="IMG_6099-min.jpg" alt="Derby image 11">

    <!-- The ones without -min in the name -->
    <img src="IMG_6103.jpg" alt="Derby image 12">
    <img src="IMG_6112-min.jpg" alt="Derby image 13">
    <img src="IMG_6114-min.jpg" alt="Derby image 14">
    <img src="IMG_6122-min.jpg" alt="Derby image 15">
    <img src="IMG_6123-min.jpg" alt="Derby image 16">
    <img src="IMG_6128-min.jpg" alt="Derby image 17">

  </div>
</main>

<!-- LIGHTBOX POPUP -->
<div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Image lightbox">
  <div class="lightbox-inner" id="lightboxInner">
    <button class="close-btn" id="closeBtn" aria-label="Close (Esc)">&times;</button>

    <!-- left arrow -->
    <button class="arrow-btn arrow-left" id="prevBtn" aria-label="Previous image">
      ‹
    </button>

    <!-- image -->
    <img id="lightbox-img" alt="">

    <!-- right arrow -->
    <button class="arrow-btn arrow-right" id="nextBtn" aria-label="Next image">
      ›
    </button>

    <div class="counter" id="counter" aria-hidden="false"></div>
  </div>
</div>

<script>
/* --- Elements --- */
const images = Array.from(document.querySelectorAll('.gallery-grid img'));
const lightbox = document.getElementById('lightbox');
const lightboxInner = document.getElementById('lightboxInner');
const lightboxImg = document.getElementById('lightbox-img');
const counter = document.getElementById('counter');
const closeBtn = document.getElementById('closeBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

let currentIndex = 0;

/* --- Open image when a thumbnail is clicked --- */
images.forEach((img, index) => {
  img.addEventListener('click', (e) => {
    currentIndex = index;
    showImage();
  });
});

/* --- Show image in lightbox --- */
function showImage() {
  const src = images[currentIndex].src;
  const alt = images[currentIndex].alt || `Image ${currentIndex + 1}`;
  lightboxImg.src = src;
  lightboxImg.alt = alt;
  counter.innerText = `${currentIndex + 1} van ${images.length}`;

  // show
  lightbox.style.display = 'flex';
  lightbox.setAttribute('aria-hidden', 'false');

  // move focus to close button for keyboard users
  closeBtn.focus();
}

/* --- Navigation functions (only triggered by arrow buttons) --- */
function nextImage() {
  currentIndex = (currentIndex + 1) % images.length;
  showImage();
}
function prevImage() {
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  showImage();
}

/* --- Close --- */
function closeLightbox() {
  lightbox.style.display = 'none';
  lightbox.setAttribute('aria-hidden', 'true');
  // return focus to the thumbnail that opened it
  const thumb = images[currentIndex];
  if (thumb) thumb.focus();
}

/* --- Event wiring --- */
/* Clicking the dark backdrop (lightbox) closes */
lightbox.addEventListener('click', (e) => {
  // if click is on backdrop (not inside inner container), close
  if (e.target === lightbox) closeLightbox();
});

/* Prevent clicks inside the image area from bubbling to backdrop */
lightboxInner.addEventListener('click', (e) => {
  e.stopPropagation();
});

/* Arrow buttons — stop propagation so the backdrop doesn't receive the click */
prevBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  prevImage();
});
nextBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  nextImage();
});

/* Close button */
closeBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  closeLightbox();
});

/* Prevent image clicks from closing (user might click image) */
lightboxImg.addEventListener('click', (e) => {
  e.stopPropagation();
});

/* Keyboard: only allow Escape to close (no arrow-key image changes) */
document.addEventListener('keydown', (e) => {
  if (lightbox.style.display === 'flex') {
    if (e.key === 'Escape') {
      closeLightbox();
    }
    // prevent left/right arrow default actions so they don't accidentally scroll page
    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
      e.preventDefault();
    }
  }
});

/* Optional: make thumbnails focusable for keyboard users */
images.forEach(img => {
  img.setAttribute('tabindex', '0');
  img.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      img.click();
    }
  });
});
</script>

</body>
</html>
